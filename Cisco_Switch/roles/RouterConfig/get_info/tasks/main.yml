---
  - name: INFORMATION
    debug:
       msg: "This role will collect information about {{ inventory_hostname }} to help you !"

  - name: Gather interfaces facts
    cisco.ios.ios_facts:
      gather_subset: 
      - '!all'
      - '!min'
      gather_network_resources:
      - interfaces
    register: interfaces_

  - name: Gather config facts
    cisco.ios.ios_facts:
      gather_subset: 
      - config
    register: config_

  - name: Gather hardware facts
    cisco.ios.ios_facts:
      gather_subset: 
      - hardware
    register: hardware_

#########################################
  - name: List of Interfaces
    debug:
      var: interfaces_

  - name: Display all interfaces names
    ansible.builtin.debug:
      var: interfaces_
    loop: "{{ interfaces_definition | community.general.json_query('interfaces_.ansible_facts.ansible_network_resources.interfaces[*].name') }}"

#########################################
